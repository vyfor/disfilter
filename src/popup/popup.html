<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DisFilter</title>
    <link rel="stylesheet" href="popup.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>

<body>
    <div class="container">
        <header>
            <h1>DisFilter</h1>
            <button id="theme-switcher" aria-label="Toggle theme">
                <i class="fas fa-sun"></i>
            </button>
        </header>

        <main id="home-screen">
            <div class="toggle-container">
                <button id="toggle-blocking" class="power-button" aria-pressed="false">
                    <i class="fas fa-power-off"></i>
                </button>
            </div>
            <div class="blocked-count-container">
                <p>Servers Blocked:</p>
                <div class="count-wrapper">
                    <span id="blocked-count" aria-live="polite">0</span>
                </div>
            </div>
            <button id="settings-button" class="icon-button" aria-label="Open settings">
                <i class="fas fa-cog"></i>
            </button>
        </main>

        <div id="settings-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Settings</h2>
                    <button id="close-modal" class="icon-button" aria-label="Close settings">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <section class="settings-section card">
                        <h3>Block by Regex (Server Name)</h3>
                        <div class="input-group">
                            <input type="text" id="regex-input" placeholder="Enter regex pattern"
                                aria-label="New regex pattern" />
                            <button id="add-regex" class="add-button" aria-label="Add regex pattern">
                                <i class="fas fa-plus"></i>
                            </button>
                            <button id="view-regex-list" class="icon-button" aria-label="View regex list">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </section>

                    <section class="settings-section card">
                        <h3>Block by Tag</h3>
                        <div class="input-group">
                            <input type="text" id="tag-input" placeholder="Enter tag" aria-label="New tag" />
                            <button id="add-tag" class="add-button" aria-label="Add tag">
                                <i class="fas fa-plus"></i>
                            </button>
                            <button id="view-tag-list" class="icon-button" aria-label="View tag list">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </section>

                    <section class="settings-section card">
                        <h3>Block by Server ID</h3>
                        <div class="input-group">
                            <input type="text" id="server-id-input" placeholder="Enter server ID"
                                aria-label="New server ID" />
                            <button id="add-server-id" class="add-button" aria-label="Add server ID">
                                <i class="fas fa-plus"></i>
                            </button>
                            <button id="view-server-id-list" class="icon-button" aria-label="View server ID list">
                                <i class="fas fa-list"></i>
                            </button>
                        </div>
                    </section>
                </div>
                <div class="modal-footer">
                    <button id="save-settings" class="save-button">Save Settings</button>
                </div>
            </div>
        </div>
        <div id="list-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="list-modal-title">List</h2>
                    <button id="close-list-modal" class="icon-button" aria-label="Close list">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="list-modal-toolbar"
                        style="display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                        <input id="list-modal-search" type="text" placeholder="Search..." aria-label="Search list"
                            style="flex:1; min-width:0; padding:8px 10px; border-radius:8px; border:1px solid var(--input-border); background:var(--input-bg); color:var(--text-color); font-size:1em;" />
                        <button id="list-modal-remove-all" class="remove-button"
                            style="padding:8px 14px; font-size:0.95em; white-space:nowrap;">Remove All</button>
                    </div>
                    <ul id="list-modal-content" class="item-list" aria-live="polite"></ul>
                </div>
            </div>
        </div>
    </div>
    <div id="notification-container" aria-live="polite" aria-atomic="true"></div>
    <script src="popup.js"></script>
</body>

</html>